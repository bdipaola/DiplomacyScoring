angular.module("DiplomacyApp")
.controller('PlayersIndexCtrl', function($scope, $routeParams, $location, $q, playerList){
	$scope.players = playerList.data;
	playerList.loadPlayers();

	$scope.viewPlayer = function(playerId){
		$location.url('/players/' + playerId);
	};

	$scope.state = true;
	$scope.newPlayer = { name: '' };

	$scope.presence = function(){
		$scope.state = $scope.state === true ? false : true;
	};

	$scope.addPlayer = function(){
		playerList.addPlayer($scope.newPlayer);
	};

	var clearForm = function(){
		$scope.newPlayer.name = '';
	};

})
.$inject = ['$scope','$routeParams', '$location', '$q', 'playerList'];